import{a as W,b as V,c as j,d as G,e as H,f as L}from"./chunk-6K5X7B26.js";import{F as Y,a as q,b as U,g as Q}from"./chunk-E7PMT55M.js";import{a as M,b as P,c as x,d as E,e as T}from"./chunk-IPLRCPPE.js";import{G as S,P as k,R as C,T as I,V as F,X as m,Z as R,_ as O,aa as N,ba as B,ca as D,da as z,ea as A,g as w}from"./chunk-5IMV2LKR.js";import"./chunk-WXI33M2S.js";import{Bb as g,Lb as o,Nb as h,Pb as v,Wa as c,ba as y,ga as p,ka as _,kc as f,la as b,nb as d,vb as t,wb as i,xb as l}from"./chunk-VEQE27XU.js";var $=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=b({type:r}),r.\u0275inj=y({imports:[f,S]});let s=r;return s})();var We=(()=>{let r=class r{constructor(){this.authService=p(Y),this.router=p(w),this.formBuilder=p(z),this.snackBar=p(Q),this.registerForm=this.formBuilder.group({username:["",m.required],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]],confirmPassword:["",m.required]},{validators:this.passwordMatchValidator}),this.isShowPassword=!1}toggleShowPassword(){this.isShowPassword=!this.isShowPassword}onSubmit(){if(this.registerForm.invalid){this.snackBar.open("Please fill in all fields","Close",{duration:3e3});return}let{username:n,email:a,password:e}=this.registerForm.value;this.authService.register({username:n,email:a,password:e}).subscribe({next:()=>{this.snackBar.open("Registration successful","Close",{duration:3e3}),this.router.navigate(["home"]).then(()=>{this.registerForm.reset()})},error:u=>{this.snackBar.open(u.message,"Close",{duration:3e3})}})}passwordMatchValidator(n){let a=n.get("password"),e=n.get("confirmPassword");a?.value!==e?.value?e?.setErrors({passwordMatch:!0}):e?.setErrors(null)}};r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=_({type:r,selectors:[["app-register"]],standalone:!0,features:[v],decls:28,vars:6,consts:[[3,"ngSubmit","formGroup"],["matInput","","placeholder","Username","formControlName","username"],["matInput","","placeholder","Email","formControlName","email"],["matInput","","placeholder","Password","formControlName","password",3,"type"],["matSuffix","",3,"click"],["matInput","","placeholder","Confirm Password","formControlName","confirmPassword",3,"type"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(a,e){a&1&&(t(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o(3,"Register"),i()(),t(4,"form",0),g("ngSubmit",function(){return e.onSubmit()}),t(5,"mat-card-content")(6,"mat-form-field")(7,"mat-label"),o(8,"Username"),i(),l(9,"input",1),i(),t(10,"mat-form-field")(11,"mat-label"),o(12,"Email"),i(),l(13,"input",2),i(),t(14,"mat-form-field")(15,"mat-label"),o(16,"Password"),i(),l(17,"input",3),t(18,"mat-icon",4),g("click",function(){return e.toggleShowPassword()}),o(19),i()(),t(20,"mat-form-field")(21,"mat-label"),o(22,"Confirm Password"),i(),l(23,"input",5),t(24,"mat-icon",4),g("click",function(){return e.toggleShowPassword()}),o(25),i()(),t(26,"button",6),o(27," Register "),i()()()()),a&2&&(c(4),d("formGroup",e.registerForm),c(13),d("type",e.isShowPassword?"text":"password"),c(2),h(" ",e.isShowPassword?"visibility":"visibility_off"," "),c(4),d("type",e.isShowPassword?"text":"password"),c(2),h(" ",e.isShowPassword?"visibility":"visibility_off"," "),c(),d("disabled",e.registerForm.invalid))},dependencies:[f,A,N,F,R,O,B,D,T,M,x,E,P,G,j,W,V,I,L,H,C,k,U,q,$],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}mat-card-header[_ngcontent-%COMP%]{justify-content:center;margin-bottom:1rem}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}"]});let s=r;return s})();export{We as RegisterComponent};
