import{a as Ot,b as Tt,d as le}from"./chunk-VBK7OOQS.js";import"./chunk-OFA7XBTK.js";import{a as ue,b as j}from"./chunk-YU5XNOZR.js";import{b as St,c as vt,d as Et,e as Rt,f as It,h as At,j as ce,k as ae,m as xt}from"./chunk-BW7PFCKW.js";import"./chunk-WXI33M2S.js";import{Da as re,E as Re,F as P,Fb as Ae,Ga as ut,Gb as xe,H as J,Hb as V,I as Qe,J as et,L as tt,O as nt,Pa as lt,T as rt,U as Q,V as ot,Wb as mt,X as it,Z as Ie,_ as ee,_b as oe,a as C,aa as te,b as N,ba as st,da as A,eb as dt,g as k,ga as h,gb as ft,ia as v,ib as pt,j as qe,ja as g,k as W,ka as ct,kb as ht,kc as ie,l as We,lb as U,n as X,na as at,o as Xe,p as Y,qa as ne,qc as yt,r as Ee,s as Ye,sc as se,ta as _,v as Je,w,xc as gt}from"./chunk-U7O5KEBD.js";var bt=(t,e)=>{let o=g(j),n=g(ae);return o.isLoggedIn()?(console.log("User is logged in"),!0):(n.navigate(["/auth/login"]).then(()=>{console.log("User is not logged in")}),!1)};var Ct=(t,e)=>g(j).user();var wt=(()=>{let e=class e{constructor(){this.router=g(ae),this.authStore=g(j),this.cookieService=g(ue),this.snackbar=g(Ot),se(()=>{this.authStore.message()&&this.snackbar.open(this.authStore.message(),"Close",{duration:2e3})}),this.cookieService.check("token")?(this.authStore.setCurrentUser(),this.router.navigate(["/user/section"])):this.authStore.reset()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-auth-layout"]],standalone:!0,features:[oe],decls:7,vars:0,consts:[[1,"logo"],["href","javascript:void(0)"],["src","assets/mapa-logo.jpg","alt","logo"]],template:function(r,i){r&1&&(Ae(0,"main")(1,"div",0)(2,"a",1),V(3,"img",2),Ae(4,"span"),mt(5,"MaPa"),xe()()(),V(6,"router-outlet"),xe())},dependencies:[ce,Tt],styles:[".logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:50px 0}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;margin-bottom:10px}.logo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center;font-size:20px;font-weight:600;color:#fff}"]});let t=e;return t})();var Ft=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"auth",component:wt,loadChildren:()=>import("./chunk-XZDXGFU7.js").then(t=>t.authRoutes)},{path:"user",loadComponent:()=>import("./chunk-Q4FJB5U3.js").then(t=>t.UserLayoutComponent),children:[{path:"profile",loadComponent:()=>import("./chunk-CUY3I75M.js").then(t=>t.ProfileComponent),title:"Profile",resolve:{user:Ct}},{path:"section",loadComponent:()=>import("./chunk-H3HFYSNJ.js").then(t=>t.SectionListComponent),title:"Section"}],canActivate:[bt]}];var Tn="@",bn=(()=>{let e=class e{constructor(n,r,i,s,u){this.doc=n,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=g(ft,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-UYLNX76M.js")).catch(r=>{throw new st(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new i(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let i=this.delegate.createRenderer(n,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new Oe(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let m=u.createRenderer(n,r);s.use(m)}).catch(u=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){dt()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Oe=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let o of this.replay)o(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,o){return this.delegate.createElement(e,o)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,o){this.delegate.appendChild(e,o)}insertBefore(e,o,n,r){this.delegate.insertBefore(e,o,n,r)}removeChild(e,o,n){this.delegate.removeChild(e,o,n)}selectRootElement(e,o){return this.delegate.selectRootElement(e,o)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,o,n,r){this.delegate.setAttribute(e,o,n,r)}removeAttribute(e,o,n){this.delegate.removeAttribute(e,o,n)}addClass(e,o){this.delegate.addClass(e,o)}removeClass(e,o){this.delegate.removeClass(e,o)}setStyle(e,o,n,r){this.delegate.setStyle(e,o,n,r)}removeStyle(e,o,n){this.delegate.removeStyle(e,o,n)}setProperty(e,o,n){this.shouldReplay(o)&&this.replay.push(r=>r.setProperty(e,o,n)),this.delegate.setProperty(e,o,n)}setValue(e,o){this.delegate.setValue(e,o)}listen(e,o,n){return this.shouldReplay(o)&&this.replay.push(r=>r.listen(e,o,n)),this.delegate.listen(e,o,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(Tn)}};function jt(t="animations"){return ht("NgAsyncAnimations"),_([{provide:pt,useFactory:(e,o,n)=>new bn(e,o,n,t),deps:[gt,Rt,U]},{provide:lt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fn={};var G="@ngrx/store/init",b=(()=>{let e=class e extends W{constructor(){super({type:G})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),jn=[b],Gt=new h("@ngrx/store Internal Root Guard"),kt=new h("@ngrx/store Internal Initial State"),K=new h("@ngrx/store Initial State"),Kt=new h("@ngrx/store Reducer Factory"),Mt=new h("@ngrx/store Internal Reducer Factory Provider"),Ht=new h("@ngrx/store Initial Reducers"),Te=new h("@ngrx/store Internal Initial Reducers"),io=new h("@ngrx/store Store Features"),Dt=new h("@ngrx/store Internal Store Reducers"),so=new h("@ngrx/store Internal Feature Reducers"),co=new h("@ngrx/store Internal Feature Configs"),ao=new h("@ngrx/store Internal Store Features"),uo=new h("@ngrx/store Internal Feature Reducers Token"),lo=new h("@ngrx/store Feature Reducers"),Nt=new h("@ngrx/store User Provided Meta Reducers"),fe=new h("@ngrx/store Meta Reducers"),Pt=new h("@ngrx/store Internal Resolved Meta Reducers"),_t=new h("@ngrx/store User Runtime Checks Config"),Ut=new h("@ngrx/store Internal User Runtime Checks Config"),B=new h("@ngrx/store Internal Runtime Checks"),Zt=new h("@ngrx/store Check if Action types are unique"),zt=new h("@ngrx/store Root Store Provider"),fo=new h("@ngrx/store Feature State Provider");function kn(t,e={}){let o=Object.keys(t),n={};for(let i=0;i<o.length;i++){let s=o[i];typeof t[s]=="function"&&(n[s]=t[s])}let r=Object.keys(n);return function(s,u){s=s===void 0?e:s;let m=!1,l={};for(let a=0;a<r.length;a++){let c=r[a],p=n[c],R=s[c],f=p(R,u);l[c]=f,m=m||f!==R}return m?l:s}}function Mn(t,e){return Object.keys(t).filter(o=>o!==e).reduce((o,n)=>Object.assign(o,{[n]:t[n]}),{})}function qt(...t){return function(e){if(t.length===0)return e;let o=t[t.length-1];return t.slice(0,-1).reduceRight((r,i)=>i(r),o(e))}}function Wt(t,e){return Array.isArray(e)&&e.length>0&&(t=qt.apply(null,[...e,t])),(o,n)=>{let r=t(o);return(i,s)=>(i=i===void 0?n:i,r(i,s))}}function Dn(t){let e=Array.isArray(t)&&t.length>0?qt(...t):o=>o;return(o,n)=>(o=e(o),(r,i)=>(r=r===void 0?n:r,o(r,i)))}var M=class extends k{},z=class extends b{},pe="@ngrx/store/update-reducers",be=(()=>{let e=class e extends W{get currentReducers(){return this.reducers}constructor(n,r,i,s){super(s(i,r)),this.dispatcher=n,this.initialState=r,this.reducers=i,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((i,{reducers:s,reducerFactory:u,metaReducers:m,initialState:l,key:a})=>{let c=typeof s=="function"?Dn(m)(s,l):Wt(u,m)(s,l);return i[a]=c,i},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=C(C({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=Mn(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:pe,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(v(z),v(K),v(Ht),v(Kt))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Nn=[be,{provide:M,useExisting:be},{provide:z,useExisting:b}],H=(()=>{let e=class e extends qe{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(i){return(n||(n=re(e)))(i||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Pn=[H],$=class extends k{},$t=(()=>{let e=class e extends W{constructor(n,r,i,s){super(s);let m=n.pipe(Y(X)).pipe(te(r)),l={state:s},a=m.pipe(Q(_n,l));this.stateSubscription=a.subscribe(({state:c,action:p})=>{this.next(c),i.next(p)}),this.state=le(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=G,e.\u0275fac=function(r){return new(r||e)(v(b),v(M),v(H),v(K))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function _n(t={state:void 0},[e,o]){let{state:n}=t;return{state:o(n,e),action:e}}var Un=[$t,{provide:$,useExisting:$t}],je=(()=>{let e=class e extends k{constructor(n,r,i){super(),this.actionsObserver=r,this.reducerManager=i,this.source=n,this.state=n.state}select(n,...r){return $n.call(null,n,...r)(this)}selectSignal(n,r){return yt(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(v($),v(b),v(be))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),zn=[je];function $n(t,e,...o){return function(r){let i;if(typeof t=="string"){let s=[e,...o].filter(Boolean);i=r.pipe(rt(t,...s))}else if(typeof t=="function")i=r.pipe(w(s=>t(s,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return i.pipe(nt())}}var ke="https://ngrx.io/guide/store/configuration/runtime-checks";function Lt(t){return t===void 0}function Vt(t){return t===null}function Xt(t){return Array.isArray(t)}function Ln(t){return typeof t=="string"}function Vn(t){return typeof t=="boolean"}function Bn(t){return typeof t=="number"}function Yt(t){return typeof t=="object"&&t!==null}function Gn(t){return Yt(t)&&!Xt(t)}function Kn(t){if(!Gn(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Ce(t){return typeof t=="function"}function Hn(t){return Ce(t)&&t.hasOwnProperty("\u0275cmp")}function Zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qn(t){return t instanceof h?g(t):t}function Wn(t){return typeof t=="function"?t():t}function Xn(t,e){return t.concat(e)}function Yn(){if(g(je,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Jn(t,e){return function(o,n){let r=e.action(n)?we(n):n,i=t(o,r);return e.state()?we(i):i}}function we(t){Object.freeze(t);let e=Ce(t);return Object.getOwnPropertyNames(t).forEach(o=>{if(!o.startsWith("\u0275")&&Zn(t,o)&&(!e||o!=="caller"&&o!=="callee"&&o!=="arguments")){let n=t[o];(Yt(n)||Ce(n))&&!Object.isFrozen(n)&&we(n)}}),t}function Qn(t,e){return function(o,n){if(e.action(n)){let i=Fe(n);Bt(i,"action")}let r=t(o,n);if(e.state()){let i=Fe(r);Bt(i,"state")}return r}}function Fe(t,e=[]){return(Lt(t)||Vt(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let i=t[r];return Hn(i)?n:Lt(i)||Vt(i)||Bn(i)||Vn(i)||Ln(i)||Xt(i)?!1:Kn(i)?Fe(i,[...e,r]):{path:[...e,r],value:i}},!1)}function Bt(t,e){if(t===!1)return;let o=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${o}". ${ke}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=o,n}function er(t,e){return function(o,n){if(e.action(n)&&!U.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${ke}#strictactionwithinngzone`);return t(o,n)}}function tr(t){return ie()?C({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function nr({strictActionSerializability:t,strictStateSerializability:e}){return o=>t||e?Qn(o,{action:n=>t&&!Me(n),state:()=>e}):o}function rr({strictActionImmutability:t,strictStateImmutability:e}){return o=>t||e?Jn(o,{action:n=>t&&!Me(n),state:()=>e}):o}function Me(t){return t.type.startsWith("@ngrx")}function or({strictActionWithinNgZone:t}){return e=>t?er(e,{action:o=>t&&!Me(o)}):e}function ir(t){return[{provide:Ut,useValue:t},{provide:_t,useFactory:cr,deps:[Ut]},{provide:B,deps:[_t],useFactory:tr},{provide:fe,multi:!0,deps:[B],useFactory:rr},{provide:fe,multi:!0,deps:[B],useFactory:nr},{provide:fe,multi:!0,deps:[B],useFactory:or}]}function sr(){return[{provide:Zt,multi:!0,deps:[B],useFactory:ar}]}function cr(t){return t}function ar(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Fn).filter(([,o])=>o>1).map(([o])=>o);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(o=>`"${o}"`).join(", ")}. ${ke}#strictactiontypeuniqueness`)}function ur(t={},e={}){return[{provide:Gt,useFactory:Yn},{provide:kt,useValue:e.initialState},{provide:K,useFactory:Wn,deps:[kt]},{provide:Te,useValue:t},{provide:Dt,useExisting:t instanceof h?t:Te},{provide:Ht,deps:[Te,[new ct(Dt)]],useFactory:qn},{provide:Nt,useValue:e.metaReducers?e.metaReducers:[]},{provide:Pt,deps:[fe,Nt],useFactory:Xn},{provide:Mt,useValue:e.reducerFactory?e.reducerFactory:kn},{provide:Kt,deps:[Mt,Pt],useFactory:Wt},jn,Nn,Pn,Un,zn,ir(e.runtimeChecks),sr()]}function lr(){g(b),g(M),g(H),g(je),g(Gt,{optional:!0}),g(Zt,{optional:!0})}var dr=[{provide:zt,useFactory:lr},{provide:at,multi:!0,useFactory(){return()=>g(zt)}}];function Jt(t,e){return _([...ur(t,e),dr])}var q="PERFORM_ACTION",pr="REFRESH",on="RESET",sn="ROLLBACK",cn="COMMIT",an="SWEEP",un="TOGGLE_ACTION",hr="SET_ACTIONS_ACTIVE",ln="JUMP_TO_STATE",dn="JUMP_TO_ACTION",He="IMPORT_STATE",fn="LOCK_CHANGES",pn="PAUSE_RECORDING",L=class{constructor(e,o){if(this.action=e,this.timestamp=o,this.type=q,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},De=class{constructor(){this.type=pr}},Ne=class{constructor(e){this.timestamp=e,this.type=on}},Pe=class{constructor(e){this.timestamp=e,this.type=sn}},_e=class{constructor(e){this.timestamp=e,this.type=cn}},Ue=class{constructor(){this.type=an}},ze=class{constructor(e){this.id=e,this.type=un}};var $e=class{constructor(e){this.index=e,this.type=ln}},Le=class{constructor(e){this.actionId=e,this.type=dn}},Ve=class{constructor(e){this.nextLiftedState=e,this.type=He}},Be=class{constructor(e){this.status=e,this.type=fn}},Ge=class{constructor(e){this.status=e,this.type=pn}};var ge=new h("@ngrx/store-devtools Options"),Qt=new h("@ngrx/store-devtools Initial Config");function hn(){return null}var mr="NgRx Store DevTools";function yr(t){let e={maxAge:!1,monitor:hn,actionSanitizer:void 0,stateSanitizer:void 0,name:mr,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},o=typeof t=="function"?t():t,n=o.logOnly?{pause:!0,export:!0,test:!0}:!1,r=o.features||n||e.features;r.import===!0&&(r.import="custom");let i=Object.assign({},e,{features:r},o);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function en(t,e){return t.filter(o=>e.indexOf(o)<0)}function mn(t){let{computedStates:e,currentStateIndex:o}=t;if(o>=e.length){let{state:r}=e[e.length-1];return r}let{state:n}=e[o];return n}function Z(t){return new L(t,+Date.now())}function gr(t,e){return Object.keys(e).reduce((o,n)=>{let r=Number(n);return o[r]=yn(t,e[r],r),o},{})}function yn(t,e,o){return N(C({},e),{action:t(e.action,o)})}function Sr(t,e){return e.map((o,n)=>({state:gn(t,o.state,n),error:o.error}))}function gn(t,e,o){return t(e,o)}function Sn(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function vr(t,e,o,n){let r=[],i={},s=[];return t.stagedActionIds.forEach((u,m)=>{let l=t.actionsById[u];l&&(m&&Ze(t.computedStates[m],l,e,o,n)||(i[u]=l,r.push(u),s.push(t.computedStates[m])))}),N(C({},t),{stagedActionIds:r,actionsById:i,computedStates:s})}function Ze(t,e,o,n,r){let i=o&&!o(t,e.action),s=n&&!e.action.type.match(n.map(m=>tn(m)).join("|")),u=r&&e.action.type.match(r.map(m=>tn(m)).join("|"));return i||s||u}function tn(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function vn(t){return{ngZone:t?g(U):null,connectInZone:t}}var Se=(()=>{let e=class e extends b{};e.\u0275fac=(()=>{let n;return function(i){return(n||(n=re(e)))(i||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),he={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Ke=new h("@ngrx/store-devtools Redux Devtools Extension"),En=(()=>{let e=class e{constructor(n,r,i){this.config=r,this.dispatcher=i,this.zoneConfig=vn(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,r){if(this.devtoolsExtension)if(n.type===q){if(r.isLocked||r.isPaused)return;let i=mn(r);if(Sn(this.config)&&Ze(i,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?gn(this.config.stateSanitizer,i,r.currentStateIndex):i,u=this.config.actionSanitizer?yn(this.config.actionSanitizer,n,r.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(u,s))}else{let i=N(C({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?gr(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?Sr(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,i,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new k(n=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(i=>n.next(i)),r.unsubscribe}):Xe}createActionStreams(){let n=this.createChangesObservable().pipe(ot()),r=n.pipe(P(a=>a.type===he.START)),i=n.pipe(P(a=>a.type===he.STOP)),s=n.pipe(P(a=>a.type===he.DISPATCH),w(a=>this.unwrapAction(a.payload)),Qe(a=>a.type===He?this.dispatcher.pipe(P(c=>c.type===pe),Je(1e3),et(1e3),w(()=>a),J(()=>Ee(a)),tt(1)):Ee(a))),m=n.pipe(P(a=>a.type===he.ACTION),w(a=>this.unwrapAction(a.payload))).pipe(ee(i)),l=s.pipe(ee(i));this.start$=r.pipe(ee(i)),this.actions$=this.start$.pipe(Ie(()=>m)),this.liftedActions$=this.start$.pipe(Ie(()=>l))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let r={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(r.maxAge=n.maxAge),r}sendToReduxDevtools(n){try{n()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};e.\u0275fac=function(r){return new(r||e)(v(Ke),v(ge),v(Se))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),ye={type:G},Er="@ngrx/store-devtools/recompute",Rr={type:Er};function Rn(t,e,o,n,r){if(n)return{state:o,error:"Interrupted by an error up the chain"};let i=o,s;try{i=t(o,e)}catch(u){s=u.toString(),r.handleError(u)}return{state:i,error:s}}function me(t,e,o,n,r,i,s,u,m){if(e>=t.length&&t.length===i.length)return t;let l=t.slice(0,e),a=i.length-(m?1:0);for(let c=e;c<a;c++){let p=i[c],R=r[p].action,f=l[c-1],d=f?f.state:n,O=f?f.error:void 0,T=s.indexOf(p)>-1?f:Rn(o,R,d,O,u);l.push(T)}return m&&l.push(t[t.length-1]),l}function Ir(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Z(ye)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Ar(t,e,o,n,r={}){return i=>(s,u)=>{let{monitorState:m,actionsById:l,nextActionId:a,stagedActionIds:c,skippedActionIds:p,committedState:R,currentStateIndex:f,computedStates:d,isLocked:O,isPaused:I}=s||e;s||(l=Object.create(l));function T(E){let S=E,F=c.slice(1,S+1);for(let x=0;x<F.length;x++)if(d[x+1].error){S=x,F=c.slice(1,S+1);break}else delete l[F[x]];p=p.filter(x=>F.indexOf(x)===-1),c=[0,...c.slice(S+1)],R=d[S].state,d=d.slice(S),f=f>S?f-S:0}function D(){l={0:Z(ye)},a=1,c=[0],p=[],R=d[f].state,f=0,d=[]}let y=0;switch(u.type){case fn:{O=u.status,y=1/0;break}case pn:{I=u.status,I?(c=[...c,a],l[a]=new L({type:"@ngrx/devtools/pause"},+Date.now()),a++,y=c.length-1,d=d.concat(d[d.length-1]),f===c.length-2&&f++,y=1/0):D();break}case on:{l={0:Z(ye)},a=1,c=[0],p=[],R=t,f=0,d=[];break}case cn:{D();break}case sn:{l={0:Z(ye)},a=1,c=[0],p=[],f=0,d=[];break}case un:{let{id:E}=u;p.indexOf(E)===-1?p=[E,...p]:p=p.filter(F=>F!==E),y=c.indexOf(E);break}case hr:{let{start:E,end:S,active:F}=u,x=[];for(let ve=E;ve<S;ve++)x.push(ve);F?p=en(p,x):p=[...p,...x],y=c.indexOf(E);break}case ln:{f=u.index,y=1/0;break}case dn:{let E=c.indexOf(u.actionId);E!==-1&&(f=E),y=1/0;break}case an:{c=en(c,p),p=[],f=Math.min(f,c.length-1);break}case q:{if(O)return s||e;if(I||s&&Ze(s.computedStates[f],u,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let S=d[d.length-1];d=[...d.slice(0,-1),Rn(i,u.action,S.state,S.error,o)],y=1/0;break}r.maxAge&&c.length===r.maxAge&&T(1),f===c.length-1&&f++;let E=a++;l[E]=u,c=[...c,E],y=c.length-1;break}case He:{({monitorState:m,actionsById:l,nextActionId:a,stagedActionIds:c,skippedActionIds:p,committedState:R,currentStateIndex:f,computedStates:d,isLocked:O,isPaused:I}=u.nextLiftedState);break}case G:{y=0,r.maxAge&&c.length>r.maxAge&&(d=me(d,y,i,R,l,c,p,o,I),T(c.length-r.maxAge),y=1/0);break}case pe:{if(d.filter(S=>S.error).length>0)y=0,r.maxAge&&c.length>r.maxAge&&(d=me(d,y,i,R,l,c,p,o,I),T(c.length-r.maxAge),y=1/0);else{if(!I&&!O){f===c.length-1&&f++;let S=a++;l[S]=new L(u,+Date.now()),c=[...c,S],y=c.length-1,d=me(d,y,i,R,l,c,p,o,I)}d=d.map(S=>N(C({},S),{state:i(S.state,Rr)})),f=c.length-1,r.maxAge&&c.length>r.maxAge&&T(c.length-r.maxAge),y=1/0}break}default:{y=1/0;break}}return d=me(d,y,i,R,l,c,p,o,I),m=n(m,u),{monitorState:m,actionsById:l,nextActionId:a,stagedActionIds:c,skippedActionIds:p,committedState:R,currentStateIndex:f,computedStates:d,isLocked:O,isPaused:I}}}var nn=(()=>{let e=class e{constructor(n,r,i,s,u,m,l,a){let c=Ir(l,a.monitor),p=Ar(l,c,m,a.monitor,a),R=Re(Re(r.asObservable().pipe(it(1)),s.actions$).pipe(w(Z)),n,s.liftedActions$).pipe(Y(X)),f=i.pipe(w(p)),d=vn(a.connectInZone),O=new We(1);this.liftedStateSubscription=R.pipe(te(f),rn(d),Q(({state:D},[y,E])=>{let S=E(D,y);return y.type!==q&&Sn(a)&&(S=vr(S,a.predicate,a.actionsSafelist,a.actionsBlocklist)),s.notify(y,S),{state:S,action:y}},{state:c,action:null})).subscribe(({state:D,action:y})=>{if(O.next(D),y.type===q){let E=y.action;u.next(E)}}),this.extensionStartSubscription=s.start$.pipe(rn(d)).subscribe(()=>{this.refresh()});let I=O.asObservable(),T=I.pipe(w(mn));Object.defineProperty(T,"state",{value:le(T,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=I,this.state=T}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new L(n,+Date.now()))}refresh(){this.dispatch(new De)}reset(){this.dispatch(new Ne(+Date.now()))}rollback(){this.dispatch(new Pe(+Date.now()))}commit(){this.dispatch(new _e(+Date.now()))}sweep(){this.dispatch(new Ue)}toggleAction(n){this.dispatch(new ze(n))}jumpToAction(n){this.dispatch(new Le(n))}jumpToState(n){this.dispatch(new $e(n))}importState(n){this.dispatch(new Ve(n))}lockChanges(n){this.dispatch(new Be(n))}pauseRecording(n){this.dispatch(new Ge(n))}};e.\u0275fac=function(r){return new(r||e)(v(Se),v(b),v(M),v(En),v(H),v(ut),v(K),v(ge))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function rn({ngZone:t,connectInZone:e}){return o=>e?new k(n=>o.subscribe({next:r=>t.run(()=>n.next(r)),error:r=>t.run(()=>n.error(r)),complete:()=>t.run(()=>n.complete())})):o}var xr=new h("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Or(t,e){return!!t||e.monitor!==hn}function Tr(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function In(t={}){return _([En,Se,nn,{provide:Qt,useValue:t},{provide:xr,deps:[Ke,ge],useFactory:Or},{provide:Ke,useFactory:Tr},{provide:ge,deps:[Qt],useFactory:yr},{provide:$,deps:[nn],useFactory:br},{provide:z,useExisting:Se}])}function br(t){return t.state}var An=(t,e)=>{let n=g(ue).get("token"),r=t.clone({setHeaders:{Authorization:`Bearer ${n}`}});return e(r).pipe(J(i=>(i.status===401?console.log("User is not authorized"):console.error("Error",i),Ye(()=>new Error(i.error.message)))))};var xn={providers:[xt(Ft),At(),jt(),St(Et(),vt([An])),Jt(),In({maxAge:25,logOnly:!ie()})]};var On=(()=>{let e=class e{constructor(){this.authStore=g(j),se(()=>{console.log("AppComponent",this.authStore.user())})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ne({type:e,selectors:[["app-root"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(r,i){r&1&&V(0,"router-outlet")},dependencies:[ce]});let t=e;return t})();It(On,xn).catch(t=>console.error(t));
